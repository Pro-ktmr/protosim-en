(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{8740:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[appId]/[textbookId]/[textbookPageId]",function(){return n(3742)}])},9881:function(e,t,n){"use strict";var a=n(5893),r=n(7294),o=n(2919),s=n.n(o),i=function(){var e=(0,r.useState)(""),t=e[0],n=e[1];return(0,r.useEffect)(function(){n(window.location.host)},[]),t.includes("beta")?(0,a.jsx)("span",{className:s().beta,children:"beta"}):(0,a.jsx)(a.Fragment,{})};t.Z=i},3742:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return ee},default:function(){return et}});var a=n(7568),r=n(655),o=n(5893),s=n(9008),i=n.n(s),c=n(1664),d=n.n(c),l=n(7294),u=n(1997);function p(e,t,n,a,r,o){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)(function(e,t,n,a,o,s){var i,c,d,l;return(0,r.__generator)(this,function(r){switch(r.label){case 0:for(i=function(){if(l++>=100)return"break";d.filter(function(t){return t.destination.protocolIndex==e.protocols.length&&"downToUp"==t.destination.direction}).length==d.length&&(d=function(e){if(!Array.isArray(e))throw TypeError(`Expected an array, got ${typeof e}`);e=[...e];for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}(d));var t=d.shift();if(void 0===t||""==t.destination.device)return"continue";s({type:"executeTask",task:t});var n=t.destination.protocolIndex;if(c[t.destination.device][t.destination.direction][t.destination.protocolIndex].push(t.data),"downToUp"==t.destination.direction&&t.data.meta.end)return"continue";if("upToDown"==t.destination.direction&&n==e.protocols.length-1)return d.push({data:t.data,destination:{device:"198.51.100.255"==t.data.meta.peersIpAddress?"server":"203.0.113.128"==t.data.meta.peersIpAddress?"smartphone":"",protocolIndex:n,direction:"downToUp"}}),a(Object.assign({},c)),"continue";if("downToUp"==t.destination.direction&&0==n){return"server"==t.destination.device&&d.push((f=t,m="",m="/joho1/internet.html"==f.data.meta.pathname?'<html>\n  <head>\n    <title>History of the Internet</title>\n  </head>\n  <body>\n    <h1>History of the Internet</h1>\n    <p>\n      The first data transmitted over the Internet was the two letters "L" and "O". The plan was to send "LOGIN", but the system crashed after inputting "G", so only "LO" was sent.\n    </p>\n  </body>\n</html>':"/joho1/tags.html"==f.data.meta.pathname?"<html>\n  <head>\n    <title>HTML Tags Quick Reference</title>\n  </head>\n  <body>\n    <h1>HTML Tags Quick Reference</h1>\n    <p>\n      h1 tag: Level 1 heading<br />\n      p tag: Paragraph<br />\n      br tag: Line break\n    </p>\n  </body>\n</html>":"<html>\n  <head>\n    <title>404 Not Found</title>\n  </head>\n  <body>\n    <h1>404 Not Found</h1>\n    <p>\n      The page could not be found.\n    </p>\n  </body>\n</html>",{data:{type:"paper",body:"Protocol: HTTP\nFile Type: html\nFile Character Code: utf-8\nFile Length: ".concat(m.length,"\n\n")+m,meta:{type:"response",myIpAddress:"198.51.100.255",peersIpAddress:f.data.meta.myIpAddress,body:m}},destination:{device:"server",protocolIndex:0,direction:"upToDown"}})),a(Object.assign({},c)),"continue"}var r="upToDown"==t.destination.direction?e.protocols[n+1].addHeader(t.data):e.protocols[n].removeHeader(t.data),o={device:t.destination.device,protocolIndex:t.destination.protocolIndex+("upToDown"==t.destination.direction?1:-1),direction:t.destination.direction},i=!0,u=!1,p=void 0;try{for(var f,m,v,h=r[Symbol.iterator]();!(i=(v=h.next()).done);i=!0){var _=v.value;d.push({data:_,destination:o})}}catch(x){u=!0,p=x}finally{try{i||null==h.return||h.return()}finally{if(u)throw p}}a(Object.assign({},c))},c=m(e),d=Object.assign([],o),l=0;d.length>0&&"break"!==i(););return a(Object.assign({},c)),[4,function(e,t,n,a){return v.apply(this,arguments)}(e,t,n,o)];case 1:return r.sent(),[2]}})})).apply(this,arguments)}function m(e){var t=Array(e.protocols.length);return t.fill([]),JSON.parse(JSON.stringify({smartphone:{upToDown:t,downToUp:t},server:{upToDown:t,downToUp:t}}))}function v(){return(v=(0,a.Z)(function(e,t,n,o){var s,i,c,d,l,u,p,f,m;return(0,r.__generator)(this,function(v){switch(v.label){case 0:var h;if(s=24,h=(0,a.Z)(function(){return(0,r.__generator)(this,function(e){return[2,new Promise(function(e){return setTimeout(e,0==t.processSpeed?80:1==t.processSpeed?40:2==t.processSpeed?20:3==t.processSpeed?10:4==t.processSpeed?5:20)})]})}),i=function(){return h.apply(this,arguments)},0!==o[0].destination.protocolIndex)return[3,4];c=0,v.label=1;case 1:if(!(c<((e.protocols.length+1)*4+2)*s))return[3,4];return n(c),[4,i()];case 2:v.sent(),v.label=3;case 3:return c++,[3,1];case 4:if(!("smartphone"==o[0].destination.device&&1===o[0].destination.protocolIndex))return[3,8];d=2.5*s,v.label=5;case 5:if(!(d<=8.5*s))return[3,8];return n(d),[4,i()];case 6:v.sent(),v.label=7;case 7:return d++,[3,5];case 8:if(!("smartphone"==o[0].destination.device&&2===o[0].destination.protocolIndex))return[3,12];l=3.5*s,v.label=9;case 9:if(!(l<=7.5*s))return[3,12];return n(l),[4,i()];case 10:v.sent(),v.label=11;case 11:return l++,[3,9];case 12:if(!("smartphone"==o[0].destination.device&&3===o[0].destination.protocolIndex))return[3,16];u=4.5*s,v.label=13;case 13:if(!(u<=6.5*s))return[3,16];return n(u),[4,i()];case 14:v.sent(),v.label=15;case 15:return u++,[3,13];case 16:if(!("server"==o[0].destination.device&&1===o[0].destination.protocolIndex))return[3,20];p=13.5*s,v.label=17;case 17:if(!(p<=19.5*s))return[3,20];return n(p),[4,i()];case 18:v.sent(),v.label=19;case 19:return p++,[3,17];case 20:if(!("server"==o[0].destination.device&&2===o[0].destination.protocolIndex))return[3,24];f=14.5*s,v.label=21;case 21:if(!(f<=18.5*s))return[3,24];return n(f),[4,i()];case 22:v.sent(),v.label=23;case 23:return f++,[3,21];case 24:if(!("server"==o[0].destination.device&&3===o[0].destination.protocolIndex))return[3,28];m=15.5*s,v.label=25;case 25:if(!(m<=17.5*s))return[3,28];return n(m),[4,i()];case 26:v.sent(),v.label=27;case 27:return m++,[3,25];case 28:return n(-1),[2]}})})).apply(this,arguments)}var h=n(1799),_=n(8692),x=n.n(_);function g(e){var t=e.data;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y,{data:t}),(0,o.jsx)(j,{data:t}),(0,o.jsx)(b,{data:t})]})}function y(e){var t=e.data;return"paper"!==t.type?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)("div",{className:x().paper,children:(0,o.jsx)("pre",{className:x().paperInner,children:t.body})})}function j(e){var t=e.data;return"bottle"!==t.type?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)("div",{className:x().packageOuter,children:(0,o.jsxs)("div",{className:x().package,children:[(0,o.jsx)("span",{}),(0,o.jsx)("span",{}),(0,o.jsx)("span",{}),(0,o.jsx)("span",{}),(0,o.jsx)("div",{className:x().packageHeader,children:(0,o.jsx)("dl",{children:Object.keys(t.header).map(function(e){return(0,o.jsxs)(l.Fragment,{children:[(0,o.jsxs)("dt",{children:[e,": "]}),(0,o.jsx)("dd",{children:t.header[e]})]},e)})})}),(0,o.jsxs)("div",{className:x().packageBody,children:[(0,o.jsx)("span",{}),(0,o.jsx)("span",{}),(0,o.jsx)("div",{className:x().packageBodyInner,children:(0,o.jsx)(g,{data:t.body})})]})]})})}function b(e){var t=e.data;return"signal"!==t.type?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)("div",{className:x().signal,children:t.body.split("").map(function(e){return"0"==e?(0,o.jsx)("span",{className:x().signal0,children:"0"}):(0,o.jsx)("span",{className:x().signal1,children:"1"})})})}var A=n(1447),S=n.n(A);function w(e){var t=e.toolConfig,n=e.toolPreference,a=e.setToolPreference,r=e.eventHandler,s=e.setAnimationState,i=e.setExecutedData,c=e.sideAreaState,d=e.setSideAreaState,u=(0,l.useRef)(null);return(0,l.useEffect)(function(){null!==u.current&&(u.current.scrollTop=0)},[c]),(0,o.jsxs)("div",{className:S().sideArea,children:[(0,o.jsxs)("div",{className:S().sideAreaHead,children:["data"===c.type?"Flowed data":"dataIn"===c.type?"Insert data":"preference"===c.type?"Preference":"","default"!==c.type?(0,o.jsx)("div",{className:S().sideAreaClose,onClick:function(e){return d({type:"default"})},children:"\xd7"}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)("div",{className:S().sideAreaBody,ref:u,children:"data"===c.type?(0,o.jsx)(I,{sideAreaState:c}):"dataIn"===c.type?(0,o.jsx)(k,{toolConfig:t,toolPreference:n,eventHandler:r,setAnimationState:s,setExecutedData:i,sideAreaState:c}):"preference"===c.type?(0,o.jsx)(C,{toolPreference:n,setToolPreference:a,sideAreaState:c}):(0,o.jsx)(N,{sideAreaState:c})})]})}function N(e){return e.sideAreaState.type,(0,o.jsx)(o.Fragment,{})}function I(e){var t=e.sideAreaState;return"data"!==t.type?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(o.Fragment,{children:t.ref.map(function(e){return(0,o.jsx)(g,{data:e},JSON.stringify(e))})})}function k(e){var t=e.toolConfig,n=e.toolPreference,a=e.eventHandler,r=e.setAnimationState,s=e.setExecutedData,i=e.sideAreaState,c=(0,l.useRef)(null);if("dataIn"!==i.type)return(0,o.jsx)(o.Fragment,{});var d=i.ref.protocolIndex;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsx)("textarea",{ref:c,style:{width:"100%"},rows:10})},"textarea"),(0,o.jsxs)("button",{onClick:function(e){if(c.current){var o=i.ref.device;a({type:"insertManually",device:o,protocolIndex:d,body:c.current.value.trim()}),p(t,n,r,s,t.protocols[d].addHeader({type:"paper",body:c.current.value.trim(),meta:{}}).map(function(e){var t,n;return{data:(t=(0,h.Z)({},e),n=(n={meta:{end:!0,myIpAddress:"smartphone"==o?"203.0.113.128":"198.51.100.255",peersIpAddress:"smartphone"==o?"198.51.100.255":"203.0.113.128"}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n})(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}),t),destination:{device:o,protocolIndex:d,direction:"upToDown"}}}),a)}},style:{display:"block",margin:"auto",width:"fit-content"},children:["Insert data following the format of ",t.protocols[d].name]},"button")]})}function C(e){var t=e.toolPreference,n=e.setToolPreference;return"preference"!==e.sideAreaState.type?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",defaultChecked:t.showCloudAndPipe,onChange:function(e){return n(Object.assign({},t,{showCloudAndPipe:e.target.checked}))}}),"Show cloud and sea"]})},"showCloudAndPipe"),(0,o.jsx)("div",{children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",defaultChecked:t.showProgram,onChange:function(e){return n(Object.assign({},t,{showProgram:e.target.checked}))}}),"Show icons representing program"]})},"showProgram"),(0,o.jsx)("div",{children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"range",min:0,max:4,defaultValue:t.processSpeed,onChange:function(e){return n(Object.assign({},t,{processSpeed:e.target.value}))}}),"Ajust speed of information flow"]})},"processSpeed")]})}var M=n(3487),P=n.n(M),T=n(943),H=n(3375),O=n(1566);function F(e){return function(e){if(Array.isArray(e))return(0,T.Z)(e)}(e)||(0,H.Z)(e)||(0,O.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=n(3200),B=n.n(D);function E(e){var t=e.toolConfig,n=e.toolPreference,a=e.eventHandler,r=e.animationState,s=e.setAnimationState,i=e.executedData,c=e.setExecutedData,d=e.sideAreaState,u=e.setSideAreaState,p=(0,l.useRef)(null),f=(0,l.useRef)(null),m=(0,l.useState)(1),v=m[0],h=m[1],_=(0,l.useState)(!1),x=_[0],g=_[1],y=(0,l.useState)("open"===t.cover||"alwaysOpen"===t.cover),j=y[0],b=y[1],A=(0,l.useState)(0),S=A[0],w=A[1],N=(0,l.useState)(null),I=N[0],k=N[1];return(0,l.useEffect)(function(){setInterval(function(){null!==p.current&&null!==f.current&&h(Math.min(1,p.current.clientWidth/(f.current.clientWidth+32),p.current.clientHeight/(f.current.clientHeight+32)))},10)},[]),(0,o.jsxs)("div",{className:B().tool,ref:p,children:[(0,o.jsxs)("div",{className:B().toolInner,ref:f,style:{transform:"scale(".concat(v,")"),transformOrigin:"top left"},children:[(0,o.jsx)(L,{toolConfig:t,isCoverOpen:j,setIsCoverOpen:b,eventHandler:a}),(0,o.jsxs)("div",{className:B().smartphone,children:[(0,o.jsx)("div",{className:B().smartphoneCover+" "+(j?B().coverOpen:""),children:(0,o.jsx)(U,{toolConfig:t,toolPreference:n,eventHandler:a,animationState:r,setAnimationState:s,executedData:i,setExecutedData:c,setIsServerWorking:g,setSideAreaState:u})}),(0,o.jsx)(Z,{toolConfig:t,toolPreference:n,executedData:i,sideAreaState:d,setSideAreaState:u,eventHandler:a,device:"smartphone",mouseHover:I,setMouseHover:k,animationState:r}),(0,o.jsx)("div",{className:B().deviceName,children:"Smartphone"})]}),(0,o.jsxs)("div",{className:B().server,children:[(0,o.jsxs)("div",{className:B().serverCover+" "+(j?B().coverOpen:""),children:[(0,o.jsx)("div",{className:B().serverLight+" "+(x?B().bright:"")}),F([,,,,]).map(function(e){return(0,o.jsx)("div",{className:B().serverRow},e)})]}),(0,o.jsx)(Z,{toolConfig:t,toolPreference:n,executedData:i,sideAreaState:d,setSideAreaState:u,eventHandler:a,device:"server",mouseHover:I,setMouseHover:k,animationState:r}),(0,o.jsx)("div",{className:B().deviceName,children:"Web Server"})]}),(0,o.jsx)(q,{focusedLayer:S,setFocusedLayer:w,toolPreference:n,eventHandler:a}),(0,o.jsx)(J,{animationState:r})]}),(0,o.jsx)("div",{className:B().preferenceButton,children:(0,o.jsx)("img",{src:"../../../image/preference.svg",width:"32px",onClick:function(e){u({type:"preference"})}})})]})}function L(e){var t=e.toolConfig,n=e.isCoverOpen,a=e.setIsCoverOpen,r=e.eventHandler;return(0,o.jsx)("div",{className:B().spaceForCover,children:"alwaysOpen"!==t.cover?(0,o.jsx)(o.Fragment,{children:n?(0,o.jsxs)("button",{className:B().openCoverButton,type:"button",onClick:function(e){a(!1),r({type:"moveCover",coverPosition:!1})},children:["Close",(0,o.jsx)("br",{}),"Cover"]}):(0,o.jsxs)("button",{className:B().openCoverButton,type:"button",onClick:function(e){a(!0),r({type:"moveCover",coverPosition:!0})},children:["Open",(0,o.jsx)("br",{}),"Cover"]})}):(0,o.jsx)(o.Fragment,{})})}function U(e){var t=e.toolConfig,n=e.toolPreference,a=e.eventHandler,r=e.animationState,s=e.setAnimationState,i=e.executedData,c=e.setExecutedData,d=e.setIsServerWorking,u=e.setSideAreaState,f=function(){if(-1===r&&null!==v.current){var e=v.current.value.trim();a({type:"enterAddressBar",url:e});try{new URL(e)}catch(o){alert("URL is invalid");return}var i=new URL(e);("198.51.100.255"==i.hostname||"example.jp"==i.hostname)&&d(!0),c(m(t)),u({type:"default"}),p(t,n,s,c,[{data:{type:"paper",body:"Protocol: HTTP\nSite Name: ".concat(i.hostname,"\nFile: ").concat(i.pathname,"\nLanguage: English\n\n"),meta:{type:"request",url:e,hostname:i.hostname,pathname:i.pathname,myIpAddress:"203.0.113.128",peersIpAddress:"example.jp"==i.hostname?"198.51.100.255":i.hostname}},destination:{device:"smartphone",protocolIndex:0,direction:"upToDown"}},],a).then(function(){d(!1)})}},v=(0,l.useRef)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:B().notch}),(0,o.jsxs)("div",{className:B().addressBar,children:[(0,o.jsx)("input",{ref:v,placeholder:"Enter URL here",onKeyDown:function(e){"Enter"==e.key&&null!==v.current&&(v.current.blur(),f())}}),(0,o.jsx)("div",{className:B().favorites,children:(0,o.jsx)(W,{addressBarRef:v,addressBarEnter:f,url:"http://example.jp/joho1/internet.html",title:"History of the Internet"})})]}),(0,o.jsx)("div",{className:B().browserbody,children:(0,o.jsx)("iframe",{srcDoc:i.smartphone.downToUp[0].length>0&&"paper"==i.smartphone.downToUp[0][0].type&&-1===r?i.smartphone.downToUp[0][0].meta.body:""})})]})}function W(e){var t=e.addressBarRef,n=e.addressBarEnter,a=e.url,r=e.title,s=(0,l.useRef)(null);return(0,o.jsxs)("button",{type:"button",className:B().favorite,ref:s,onClick:function(e){null!==t.current&&null!==s.current&&(t.current.value=a,s.current.blur(),n())},children:[(0,o.jsx)("div",{className:B().icon,children:"\uD83C\uDF10"}),(0,o.jsx)("div",{className:B().title,children:r})]})}function Z(e){for(var t=function(e){var t=n.protocols[e],m=t.upToDownManuallyInsertable,v=0!=e?(0,o.jsx)("div",{className:B().conversionProgram+" "+(a.showProgram?"":B().displayNone),children:"</>"}):(0,o.jsx)(o.Fragment,{});f.push((0,o.jsxs)("div",{className:B().dataLayer,style:{backgroundColor:t.color},children:[(0,o.jsx)(R,{device:u,protocolIndex:e,direction:"upToDown",data:r[u].upToDown[e],sideAreaState:s,setSideAreaState:i,eventHandler:l,mouseHover:c,setMouseHover:d,animationState:p}),(0,o.jsxs)("div",{className:B().arrow,children:[(0,o.jsx)("img",{src:"smartphone"===u?"../../../image/arrow-red.svg":"../../../image/arrow-blue.svg",alt:"↓",className:B().arrowImage+" "+(m?B().clickable:"")+" "+("dataIn"===s.type&&s.ref.device===u&&s.ref.protocolIndex===e?B().selected:""),onClick:function(t){m&&(i({type:"dataIn",ref:{device:u,protocolIndex:e}}),l({type:"openInsertPage",device:u,protocolIndex:e}))}}),v]}),(0,o.jsxs)("div",{className:B().protocolName,children:[(0,o.jsx)("div",{children:t.name}),(0,o.jsxs)("div",{children:["(",t.subname,")"]})]}),(0,o.jsxs)("div",{className:B().arrow,children:[(0,o.jsx)("img",{src:"smartphone"===u?"../../../image/arrow-blue.svg":"../../../image/arrow-red.svg",alt:"↑",className:B().arrowImage,style:{transform:"scale(1,-1)"}}),v]}),(0,o.jsx)("div",{className:B().dataIconOuter,children:(0,o.jsx)(R,{device:u,protocolIndex:e,direction:"downToUp",data:r[u].downToUp[e],sideAreaState:s,setSideAreaState:i,eventHandler:l,mouseHover:c,setMouseHover:d,animationState:p})})]},e))},n=e.toolConfig,a=e.toolPreference,r=e.executedData,s=e.sideAreaState,i=e.setSideAreaState,c=e.mouseHover,d=e.setMouseHover,l=e.eventHandler,u=e.device,p=e.animationState,f=[],m=0;m<n.protocols.length;m++)t(m);return(0,o.jsx)("div",{className:B().inner,children:f})}function R(e){var t=e.device,n=e.protocolIndex,a=e.direction,r=e.data,s=e.sideAreaState,i=e.setSideAreaState,c=e.eventHandler,d=e.mouseHover,l=e.setMouseHover,u=e.animationState,p="smartphone"===t&&"upToDown"===a?1+n:"server"===t&&"downToUp"===a?9-n:"server"===t&&"upToDown"===a?12+n:"smartphone"===t&&"downToUp"===a?20-n:-1,f=(u>=(p+.5)*24||-1===u)&&r.length>0,m=function(e,t){return(e||t)&&!(e&&t)};return(0,o.jsxs)("div",{className:B().dataIconOuter,children:[f?(0,o.jsx)(X,{mouseHover:d,setMouseHover:l,protocolIndex:n+1,data:r,type:m("smartphone"===t,"upToDown"===a)?"dot":"check",onClick:function(e){i({type:"data",ref:r}),c({type:"openDataPage",device:t,direction:"upToDown",protocolIndex:n})},top:"3rem",left:"auto",gray:!0,hovered:!1,selected:"data"===s.type&&s.ref===r}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(X,{mouseHover:"",setMouseHover:function(){},protocolIndex:n+1,data:r,type:m("smartphone"===t,"upToDown"===a)?"dot":"check",onClick:function(e){},top:("upToDown"===a?(u-24*p)*.25:6-(u-24*p)*.25)+"rem",left:"auto",gray:!1,hovered:!1,selected:!1})]})}function J(e){var t=e.animationState;return(0,o.jsx)("div",{className:B().bottomDataIconSpace,children:(0,o.jsxs)("div",{className:B().bottomDataIconSpaceInner,children:[120<=t&&t<=144?(0,o.jsx)(X,{mouseHover:"",setMouseHover:function(){},protocolIndex:4,data:[],type:"check",onClick:function(e){},top:"0.8rem",left:(t-120)*3.4-40.8+"rem",gray:!1,hovered:!1,selected:!1}):(0,o.jsx)(o.Fragment,{}),384<=t&&t<=408?(0,o.jsx)(X,{mouseHover:"",setMouseHover:function(){},protocolIndex:4,data:[],type:"dot",onClick:function(e){},top:"0.8rem",left:-(1*(t-384))+12+"rem",gray:!1,hovered:!1,selected:!1}):(0,o.jsx)(o.Fragment,{})]})})}function X(e){e.mouseHover;var t=e.setMouseHover,n=e.protocolIndex,a=e.data,r=e.type,s=e.onClick,i=e.top,c=e.left,d=e.gray,l=e.hovered,u=e.selected;return(0,o.jsxs)("div",{className:B().dataFrame+" "+(d?B().gray:"")+" "+(l?B().hovered:"")+" "+(u?B().selected:""),onMouseEnter:function(e){t(JSON.stringify(a))},onMouseLeave:function(e){t(null)},onClick:s,style:{top:i,left:c},children:[(0,o.jsx)("span",{className:B().dataFrameHeader,style:Object.assign({background:"#00CC66"},n>=4?{}:{width:0})}),(0,o.jsx)("span",{className:B().dataFrameHeader,style:Object.assign({background:"#0099FF"},n>=3?{}:{width:0})}),(0,o.jsx)("span",{className:B().dataFrameHeader,style:Object.assign({background:"#FF9933"},n>=2?{}:{width:0})}),(0,o.jsx)("span",{className:B().dataFrameHeader,style:Object.assign({background:"#FF00FF"},n>=1?{}:{width:0})}),(0,o.jsx)("span",{className:B().dataFrameBody+" "+("dot"==r?B().dot:B().check)})]})}function q(e){var t=e.focusedLayer,n=e.setFocusedLayer,a=e.toolPreference,r=e.eventHandler;return(0,o.jsxs)("div",{className:B().cloudAndOceanArea,children:[(0,o.jsxs)("div",{className:B().cloud+" "+(a.showCloudAndPipe?"":B().displayNone),style:{height:6*t+"rem"},children:[(0,o.jsx)("div",{className:B().cloudBody,children:(0,o.jsx)("button",{type:"button",className:B().buttonUp,onClick:function(e){n(Math.max(0,t-1)),r({type:"movePipe",direction:"up",destination:Math.max(0,t-1)})},children:"▲"})}),(0,o.jsx)("div",{className:B().cloudWave,children:F(Array(12)).map(function(e){return(0,o.jsx)("div",{},e)})})]}),(0,o.jsxs)("div",{className:B().ocean+" "+(a.showCloudAndPipe?"":B().displayNone),style:{height:6*(3-t)+"rem"},children:[(0,o.jsx)("div",{className:B().oceanWave,children:F(Array(12)).map(function(e){return(0,o.jsx)("div",{},e)})}),(0,o.jsx)("div",{className:B().oceanBody,children:(0,o.jsx)("button",{type:"button",className:B().buttonDown,onClick:function(e){n(Math.min(3,t+1)),r({type:"movePipe",direction:"down",destination:Math.min(3,t+1)})},children:"▼"})})]})]})}var G=function(e){var t=e.toolConfig,n=e.defaultToolPreference,a=e.eventHandler,r=(0,l.useState)(n),s=r[0],i=r[1],c=(0,l.useState)(-1),d=c[0],u=c[1],p=(0,l.useState)(m(t)),f=p[0],v=p[1],h=(0,l.useState)({type:"default"}),_=h[0],x=h[1];return(0,o.jsxs)("div",{className:P().outer,children:[(0,o.jsx)("div",{className:P().mainArea,children:(0,o.jsx)(E,{toolConfig:t,toolPreference:s,eventHandler:a,animationState:d,setAnimationState:u,executedData:f,setExecutedData:v,sideAreaState:_,setSideAreaState:x})}),(0,o.jsx)("div",{className:P().sideArea,children:(0,o.jsx)(w,{toolConfig:t,toolPreference:s,setToolPreference:i,eventHandler:a,setAnimationState:u,setExecutedData:v,sideAreaState:_,setSideAreaState:x})})]})},z=n(2442),K=n(8788),Q=n(593),Y=n(4300),V=n.n(Y),$=n(9881),ee=!0,et=function(e){var t=function(e){h.push(e),_(Object.assign([],h)),(0,Q.bZ)(e)},n=(0,z.M)(e.appId);if(void 0===n)throw"App ".concat(e.appId," not found");var s=n.textbooks.find(function(t){return t.id==e.textbookId});if(void 0===s)throw"Textbook ".concat(e.textbookId," not found");var c=s.pages.find(function(t){return"separator"!=t.iconType&&t.id==e.textbookPageId});if(s.pages.findIndex(function(t){return"separator"!=t.iconType&&t.id==e.textbookPageId}),void 0===c||"separator"===c.iconType)throw"TextbookPage ".concat(e.textbookPageId," not found");(0,l.useEffect)(function(){(0,a.Z)(function(){return(0,r.__generator)(this,function(e){return(0,Q.Wq)({type:"view"}),[2]})})()},[n,s,c]),(0,l.useEffect)(function(){setInterval((0,a.Z)(function(){return(0,r.__generator)(this,function(e){return(0,Q.Wq)({type:"keep"}),[2]})}),1e4)},[]);var p=(0,l.useState)(null),f=p[0],m=p[1];(0,l.useEffect)(function(){(0,a.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,Q.Ms)()];case 1:return m.apply(void 0,[e.sent()]),[2]}})})()},[]);var v=(0,l.useState)([]),h=v[0],_=v[1],x=(0,l.useRef)(null);(0,l.useEffect)(function(){null!==x.current&&(x.current.scrollTop=0)},[c.content]);var g,y=(0,l.useState)({}),j=y[0],b=y[1],A=(g=(0,a.Z)(function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:var n;return[4,c.goalKeys.reduce((n=(0,a.Z)(function(e,t){var n;return(0,r.__generator)(this,function(a){switch(a.label){case 0:return[4,e];case 1:if(!(n=a.sent()))return[3,3];return[4,K.U2(t)];case 2:n=a.sent(),a.label=3;case 3:return[2,n]}})}),function(e,t){return n.apply(this,arguments)}),Promise.resolve(!0))];case 1:if(!(e=t.sent()))return[3,3];return[4,K.U2("pageCompleted_".concat(c.id))];case 2:e=!0!==t.sent(),t.label=3;case 3:if(!e)return[3,5];return[4,K.t8("pageCompleted_".concat(c.id),!0)];case 4:t.sent(),(0,Q.bZ)({type:"completePage",key:"pageCompleted_".concat(c.id)}),t.label=5;case 5:return[2]}})}),function(){return g.apply(this,arguments)});(0,l.useEffect)(function(){(0,a.Z)(function(){var e,t,n,a,o,i,c,d,l;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,A()];case 1:r.sent(),e={},t=!0,n=!1,a=void 0,r.label=2;case 2:r.trys.push([2,7,8,9]),o=s.pages[Symbol.iterator](),r.label=3;case 3:if(t=(i=o.next()).done)return[3,6];if(!("separator"!==(c=i.value).iconType))return[3,5];return d=c.id,[4,K.U2("pageCompleted_".concat(c.id))];case 4:e[d]=r.sent(),r.label=5;case 5:return t=!0,[3,3];case 6:return[3,9];case 7:return l=r.sent(),n=!0,a=l,[3,9];case 8:try{t||null==o.return||o.return()}finally{if(n)throw a}return[7];case 9:return b(e),[2]}})})()},[c,h]);var S=s.pages.filter(function(e){return"separator"!==e.iconType}),w=S.findIndex(function(t){return t.id==e.textbookPageId}),N=(0,l.useState)(!0),I=N[0],k=N[1];return(0,o.jsxs)("div",{className:V().allWrapper,children:[(0,o.jsx)(i(),{children:(0,o.jsx)("title",{children:s.title+" - ProtoSim"})}),(0,o.jsxs)("header",{className:V().header,children:[(0,o.jsx)("a",{href:"../../",children:"Communication Protocol Simulator ProtoSim"}),(0,o.jsx)($.Z,{}),(0,o.jsx)("span",{className:V().userName,children:null==f?"Guest":f})]}),(0,o.jsxs)("main",{className:V().main,children:[(0,o.jsx)("div",{className:V().textbookPageListArea,style:I?{}:{display:"none"},children:(0,o.jsx)("ul",{children:s.pages.map(function(e,t){return"separator"!==e.iconType?(0,o.jsx)("li",{className:(e.id==c.id?V().openedPage:"")+" "+(!0===j[e.id]?V().completedPage:""),children:(0,o.jsx)(d(),{href:"/".concat(n.id,"/").concat(s.id,"/").concat(e.id),children:(0,o.jsxs)("a",{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:"../../../image/book-".concat(e.iconType,".svg")}),!0===j[e.id]?(0,o.jsx)("img",{src:"../../../image/book-check.svg"}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)("div",{children:e.title})]})})},e.id):(0,o.jsx)("li",{className:V().separator},t)})})}),(0,o.jsx)("div",{className:V().textbookArea,ref:x,style:I?{}:{display:"none"},children:(0,o.jsx)(u.ZP,{textbook:s,page:c,prevLink:w-1>=0?"/".concat(n.id,"/").concat(s.id,"/").concat(S[w-1].id):null,nextLink:w+1<S.length?"/".concat(n.id,"/").concat(s.id,"/").concat(S[w+1].id):null,eventHandler:t,toolEvents:h})}),(0,o.jsxs)("div",{className:V().toolArea,style:I?{}:{width:"100%"},children:[(0,o.jsx)("div",{className:V().textbookController,style:I?{}:{display:"none"},onClick:function(e){k(!1)}}),(0,o.jsx)("div",{className:V().textbookController+" "+V().open,style:I?{display:"none"}:{},onClick:function(e){k(!0)}}),(0,o.jsx)(G,{toolConfig:s.toolConfig,defaultToolPreference:s.defaultToolPreference,eventHandler:t})]})]})]})}},2919:function(e){e.exports={beta:"beta_beta__6wlo6"}},8692:function(e){e.exports={paper:"data_paper__kNYXU",paperInner:"data_paperInner___ryGh",packageOuter:"data_packageOuter__MXtMM",package:"data_package__cFPCS",packageHeader:"data_packageHeader__p7m0h",packageBody:"data_packageBody__ny3CW",packageBodyInner:"data_packageBodyInner__xvvBx",signal:"data_signal___peg4",signal0:"data_signal0__YMFfI",signal1:"data_signal1__gGvXg"}},3487:function(e){e.exports={outer:"tool_outer__auIrH",mainArea:"tool_mainArea__B7v4z",sideArea:"tool_sideArea__1MBaF"}},3200:function(e){e.exports={tool:"toolMainArea_tool__GKZd0",toolInner:"toolMainArea_toolInner__Ou14d",openCoverButton:"toolMainArea_openCoverButton__ldIeP",spaceForCover:"toolMainArea_spaceForCover__YTsQd",coverOpen:"toolMainArea_coverOpen__w2b_k",deviceName:"toolMainArea_deviceName__WDJqN",smartphone:"toolMainArea_smartphone__csfBD",smartphoneCover:"toolMainArea_smartphoneCover__KXts2",notch:"toolMainArea_notch__V34ek",addressBar:"toolMainArea_addressBar__s6_hM",favorites:"toolMainArea_favorites__qni_l",favorite:"toolMainArea_favorite__A7Wx_",icon:"toolMainArea_icon__8NuSS",title:"toolMainArea_title__ZFo6n",browserbody:"toolMainArea_browserbody__Z38MT",server:"toolMainArea_server__8Sfp_",serverCover:"toolMainArea_serverCover__vSDr1",serverLight:"toolMainArea_serverLight__uf5WT",bright:"toolMainArea_bright__JxhjM",flash:"toolMainArea_flash__YqQR6",serverRow:"toolMainArea_serverRow__zyisu",inner:"toolMainArea_inner__0ktgK",dataLayer:"toolMainArea_dataLayer__PIAiN",protocolName:"toolMainArea_protocolName__63tia",dataIconOuter:"toolMainArea_dataIconOuter__Q2Aua",bottomDataIconSpace:"toolMainArea_bottomDataIconSpace__y5WTq",bottomDataIconSpaceInner:"toolMainArea_bottomDataIconSpaceInner__p_Uuv",dataFrame:"toolMainArea_dataFrame__64Wn_",dataFrameHeader:"toolMainArea_dataFrameHeader__P8sz5",dataFrameBody:"toolMainArea_dataFrameBody__OfRM8",dot:"toolMainArea_dot__8OS23",check:"toolMainArea_check___ZyYR",gray:"toolMainArea_gray__0vazS",hovered:"toolMainArea_hovered__nRIfE",selected:"toolMainArea_selected__EFwhz",arrow:"toolMainArea_arrow__SlPK8",arrowImage:"toolMainArea_arrowImage__Fx4eX",clickable:"toolMainArea_clickable__gx4u3",conversionProgram:"toolMainArea_conversionProgram__PK29w",cloudAndOceanArea:"toolMainArea_cloudAndOceanArea__z0400",cloud:"toolMainArea_cloud__BeIwX",cloudBody:"toolMainArea_cloudBody__LAtFU",cloudWave:"toolMainArea_cloudWave__l4fGg",ocean:"toolMainArea_ocean__aTnAU",oceanWave:"toolMainArea_oceanWave__VjIue",oceanBody:"toolMainArea_oceanBody__SFEaT",buttonUp:"toolMainArea_buttonUp__TevDB",buttonDown:"toolMainArea_buttonDown__avDd_",preferenceButton:"toolMainArea_preferenceButton__67_8n",displayNone:"toolMainArea_displayNone__czlfV"}},1447:function(e){e.exports={sideArea:"toolSideArea_sideArea__AvkBX",sideAreaHead:"toolSideArea_sideAreaHead__ZDgFn",sideAreaClose:"toolSideArea_sideAreaClose__fc7QG",sideAreaBody:"toolSideArea_sideAreaBody__bWJ8S"}},4300:function(e){e.exports={allWrapper:"App_allWrapper__p6HS4",header:"App_header__kD6M4",userName:"App_userName__JiDTH",main:"App_main__nOUum",textbookPageListArea:"App_textbookPageListArea__rwqwI",openedPage:"App_openedPage__AMJe3",completedPage:"App_completedPage__waNAZ",separator:"App_separator__xWSlR",textbookArea:"App_textbookArea__uJ_O8",textbookController:"App_textbookController__gUXyO",open:"App_open__qtDgv",toolArea:"App_toolArea__6t_yk",displayNone:"App_displayNone__NPd1E"}},9008:function(e,t,n){e.exports=n(5443)}},function(e){e.O(0,[36,980,774,888,179],function(){return e(e.s=8740)}),_N_E=e.O()}]);