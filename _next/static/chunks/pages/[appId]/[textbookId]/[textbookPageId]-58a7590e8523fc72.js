(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{8740:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[appId]/[textbookId]/[textbookPageId]",function(){return a(9406)}])},6044:function(e,t,a){"use strict";var o=a(5893),n=a(7294),r=a(9045),s=a.n(r);t.Z=()=>{let[e,t]=(0,n.useState)("");return(0,n.useEffect)(()=>{t(window.location.host)},[]),e.includes("beta")?(0,o.jsx)("span",{className:s().beta,children:"beta"}):(0,o.jsx)(o.Fragment,{})}},9406:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return Q},default:function(){return Z}});var o=a(5893),n=a(9008),r=a.n(n),s=a(1664),i=a.n(s),d=a(7294),l=a(8421);async function c(e,t,a,o,n,r){let s=p(e),i=Object.assign([],n),d=0;for(;i.length>0&&!(d++>=100);){i.filter(t=>t.destination.protocolIndex==e.protocols.length&&"downToUp"==t.destination.direction).length==i.length&&(i=function(e){if(!Array.isArray(e))throw TypeError(`Expected an array, got ${typeof e}`);e=[...e];for(let t=e.length-1;t>0;t--){let a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}return e}(i));let t=i.shift();if(void 0===t||""==t.destination.device)continue;r({type:"executeTask",task:t});let a=t.destination.protocolIndex;if(s[t.destination.device][t.destination.direction][t.destination.protocolIndex].push(t.data),"downToUp"==t.destination.direction&&t.data.meta.end)continue;if("upToDown"==t.destination.direction&&a==e.protocols.length-1){i.push({data:t.data,destination:{device:"198.51.100.255"==t.data.meta.peersIpAddress?"server":"203.0.113.128"==t.data.meta.peersIpAddress?"smartphone":"",protocolIndex:a,direction:"downToUp"}}),o(Object.assign({},s));continue}if("downToUp"==t.destination.direction&&0==a){"server"==t.destination.device&&i.push(function(e){let t="";return t="/joho1/internet.html"==e.data.meta.pathname?'<html>\n  <head>\n    <title>History of the Internet</title>\n  </head>\n  <body>\n    <h1>History of the Internet</h1>\n    <p>\n      The first data sent over the Internet was "L" and "O".\n    </p>\n  </body>\n</html>':"/joho1/tags.html"==e.data.meta.pathname?"<html>\n  <head>\n    <title>HTML Tags Quick Reference</title>\n  </head>\n  <body>\n    <h1>HTML Tags Quick Reference</h1>\n    <p>\n      h1 tag: Level 1 heading<br />\n      p tag: Paragraph<br />\n      br tag: Line break\n    </p>\n  </body>\n</html>":"<html>\n  <head>\n    <title>404 Not Found</title>\n  </head>\n  <body>\n    <h1>404 Not Found</h1>\n    <p>\n      The page could not be found.\n    </p>\n  </body>\n</html>",{data:{type:"paper",body:"Protocol: HTTP\nFile Type: html\nFile Character Code: utf-8\nFile Length: ".concat(t.length,"\n\n")+t,meta:{type:"response",myIpAddress:"198.51.100.255",peersIpAddress:e.data.meta.myIpAddress,body:t}},destination:{device:"server",protocolIndex:0,direction:"upToDown"}}}(t)),o(Object.assign({},s));continue}let n="upToDown"==t.destination.direction?e.protocols[a+1].addHeader(t.data):e.protocols[a].removeHeader(t.data),d={device:t.destination.device,protocolIndex:t.destination.protocolIndex+("upToDown"==t.destination.direction?1:-1),direction:t.destination.direction};for(let e of n)i.push({data:e,destination:d});o(Object.assign({},s))}o(Object.assign({},s)),await u(e,t,a,n)}function p(e){let t=Array(e.protocols.length);return t.fill([]),JSON.parse(JSON.stringify({smartphone:{upToDown:t,downToUp:t},server:{upToDown:t,downToUp:t}}))}async function u(e,t,a,o){let n=async()=>new Promise(e=>setTimeout(e,0==t.processSpeed?80:1==t.processSpeed?40:2==t.processSpeed?20:3==t.processSpeed?10:4==t.processSpeed?5:20));if(0===o[0].destination.protocolIndex)for(let t=0;t<((e.protocols.length+1)*4+2)*24;t++)a(t),await n();if("smartphone"==o[0].destination.device&&1===o[0].destination.protocolIndex)for(let e=60;e<=204;e++)a(e),await n();if("smartphone"==o[0].destination.device&&2===o[0].destination.protocolIndex)for(let e=84;e<=180;e++)a(e),await n();if("smartphone"==o[0].destination.device&&3===o[0].destination.protocolIndex)for(let e=108;e<=156;e++)a(e),await n();if("server"==o[0].destination.device&&1===o[0].destination.protocolIndex)for(let e=324;e<=468;e++)a(e),await n();if("server"==o[0].destination.device&&2===o[0].destination.protocolIndex)for(let e=348;e<=444;e++)a(e),await n();if("server"==o[0].destination.device&&3===o[0].destination.protocolIndex)for(let e=372;e<=420;e++)a(e),await n();a(-1)}var m=a(7877),h=a.n(m);function _(e){let{data:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x,{data:t}),(0,o.jsx)(v,{data:t}),(0,o.jsx)(f,{data:t})]})}function x(e){let{data:t}=e;return"paper"!==t.type?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)("div",{className:h().paper,children:(0,o.jsx)("pre",{className:h().paperInner,children:t.body})})}function v(e){let{data:t}=e;return"bottle"!==t.type?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)("div",{className:h().packageOuter,children:(0,o.jsxs)("div",{className:h().package,children:[(0,o.jsx)("span",{}),(0,o.jsx)("span",{}),(0,o.jsx)("span",{}),(0,o.jsx)("span",{}),(0,o.jsx)("div",{className:h().packageHeader,children:(0,o.jsx)("dl",{children:Object.keys(t.header).map(e=>(0,o.jsxs)(d.Fragment,{children:[(0,o.jsxs)("dt",{children:[e,": "]}),(0,o.jsx)("dd",{children:t.header[e]})]},e))})}),(0,o.jsxs)("div",{className:h().packageBody,children:[(0,o.jsx)("span",{}),(0,o.jsx)("span",{}),(0,o.jsx)("div",{className:h().packageBodyInner,children:(0,o.jsx)(_,{data:t.body})})]})]})})}function f(e){let{data:t}=e;return"signal"!==t.type?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)("div",{className:h().signal,children:t.body.split("").map(e=>"0"==e?(0,o.jsx)("span",{className:h().signal0,children:"0"}):(0,o.jsx)("span",{className:h().signal1,children:"1"}))})}var g=a(1044),j=a.n(g);function y(e){let{toolConfig:t,toolPreference:a,setToolPreference:n,eventHandler:r,setAnimationState:s,setExecutedData:i,sideAreaState:l,setSideAreaState:c}=e,p=(0,d.useRef)(null);return(0,d.useEffect)(()=>{null!==p.current&&(p.current.scrollTop=0)},[l]),(0,o.jsxs)("div",{className:j().sideArea,children:[(0,o.jsxs)("div",{className:j().sideAreaHead,children:["data"===l.type?"Flowed data":"dataIn"===l.type?"Insert data":"preference"===l.type?"Preference":"","default"!==l.type?(0,o.jsx)("div",{className:j().sideAreaClose,onClick:e=>c({type:"default"}),children:"\xd7"}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)("div",{className:j().sideAreaBody,ref:p,children:"data"===l.type?(0,o.jsx)(b,{sideAreaState:l}):"dataIn"===l.type?(0,o.jsx)(w,{toolConfig:t,toolPreference:a,eventHandler:r,setAnimationState:s,setExecutedData:i,sideAreaState:l}):"preference"===l.type?(0,o.jsx)(N,{toolPreference:a,setToolPreference:n,sideAreaState:l}):(0,o.jsx)(A,{sideAreaState:l})})]})}function A(e){let{sideAreaState:t}=e;return t.type,(0,o.jsx)(o.Fragment,{})}function b(e){let{sideAreaState:t}=e;return"data"!==t.type?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(o.Fragment,{children:t.ref.map(e=>(0,o.jsx)(_,{data:e},JSON.stringify(e)))})}function w(e){let{toolConfig:t,toolPreference:a,eventHandler:n,setAnimationState:r,setExecutedData:s,sideAreaState:i}=e,l=(0,d.useRef)(null);if("dataIn"!==i.type)return(0,o.jsx)(o.Fragment,{});let p=i.ref.protocolIndex;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsx)("textarea",{ref:l,style:{width:"100%"},rows:10})},"textarea"),(0,o.jsxs)("button",{onClick:e=>{if(l.current){let e=i.ref.device;n({type:"insertManually",device:e,protocolIndex:p,body:l.current.value.trim()}),c(t,a,r,s,t.protocols[p].addHeader({type:"paper",body:l.current.value.trim(),meta:{}}).map(t=>({data:{...t,meta:{end:!0,myIpAddress:"smartphone"==e?"203.0.113.128":"198.51.100.255",peersIpAddress:"smartphone"==e?"198.51.100.255":"203.0.113.128"}},destination:{device:e,protocolIndex:p,direction:"upToDown"}})),n)}},style:{display:"block",margin:"auto",width:"fit-content"},children:["Insert data following the format of ",t.protocols[p].name]},"button")]})}function N(e){let{toolPreference:t,setToolPreference:a,sideAreaState:n}=e;return"preference"!==n.type?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",defaultChecked:t.showCloudAndPipe,onChange:e=>a(Object.assign({},t,{showCloudAndPipe:e.target.checked}))}),"Show cloud and sea"]})},"showCloudAndPipe"),(0,o.jsx)("div",{children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",defaultChecked:t.showProgram,onChange:e=>a(Object.assign({},t,{showProgram:e.target.checked}))}),"Show icons representing program"]})},"showProgram"),(0,o.jsx)("div",{children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"range",min:0,max:4,defaultValue:t.processSpeed,onChange:e=>a(Object.assign({},t,{processSpeed:e.target.value}))}),"Ajust speed of information flow"]})},"processSpeed")]})}var I=a(4641),k=a.n(I),S=a(2111),C=a.n(S);function M(e){let{toolConfig:t,toolPreference:a,eventHandler:n,animationState:r,setAnimationState:s,executedData:i,setExecutedData:l,sideAreaState:c,setSideAreaState:p}=e,u=(0,d.useRef)(null),m=(0,d.useRef)(null),[h,_]=(0,d.useState)(1),[x,v]=(0,d.useState)(!1),[f,g]=(0,d.useState)("open"===t.cover||"alwaysOpen"===t.cover),[j,y]=(0,d.useState)(0),[A,b]=(0,d.useState)(null);return(0,d.useEffect)(()=>{setInterval(()=>{null!==u.current&&null!==m.current&&_(Math.min(1,u.current.clientWidth/(m.current.clientWidth+32),u.current.clientHeight/(m.current.clientHeight+32)))},10)},[]),(0,o.jsxs)("div",{className:C().tool,ref:u,children:[(0,o.jsxs)("div",{className:C().toolInner,ref:m,style:{transform:"scale(".concat(h,")"),transformOrigin:"top left"},children:[(0,o.jsx)(P,{toolConfig:t,isCoverOpen:f,setIsCoverOpen:g,eventHandler:n}),(0,o.jsxs)("div",{className:C().smartphone,children:[(0,o.jsx)("div",{className:C().smartphoneCover+" "+(f?C().coverOpen:""),children:(0,o.jsx)(T,{toolConfig:t,toolPreference:a,eventHandler:n,animationState:r,setAnimationState:s,executedData:i,setExecutedData:l,setIsServerWorking:v,setSideAreaState:p})}),(0,o.jsx)(F,{toolConfig:t,toolPreference:a,executedData:i,sideAreaState:c,setSideAreaState:p,eventHandler:n,device:"smartphone",mouseHover:A,setMouseHover:b,animationState:r}),(0,o.jsx)("div",{className:C().deviceName,children:"Smartphone"})]}),(0,o.jsxs)("div",{className:C().server,children:[(0,o.jsxs)("div",{className:C().serverCover+" "+(f?C().coverOpen:""),children:[(0,o.jsx)("div",{className:C().serverLight+" "+(x?C().bright:"")}),[void 0,void 0,void 0,void 0].map(e=>(0,o.jsx)("div",{className:C().serverRow},e))]}),(0,o.jsx)(F,{toolConfig:t,toolPreference:a,executedData:i,sideAreaState:c,setSideAreaState:p,eventHandler:n,device:"server",mouseHover:A,setMouseHover:b,animationState:r}),(0,o.jsx)("div",{className:C().deviceName,children:"Web Server"})]}),(0,o.jsx)(E,{focusedLayer:j,setFocusedLayer:y,toolPreference:a,eventHandler:n}),(0,o.jsx)(B,{animationState:r})]}),(0,o.jsx)("div",{className:C().preferenceButton,children:(0,o.jsx)("img",{src:"../../../image/preference.svg",width:"32px",onClick:e=>{p({type:"preference"})}})})]})}function P(e){let{toolConfig:t,isCoverOpen:a,setIsCoverOpen:n,eventHandler:r}=e;return(0,o.jsx)("div",{className:C().spaceForCover,children:"alwaysOpen"!==t.cover?(0,o.jsx)(o.Fragment,{children:a?(0,o.jsxs)("button",{className:C().openCoverButton,type:"button",onClick:e=>{n(!1),r({type:"moveCover",coverPosition:!1})},children:["Close",(0,o.jsx)("br",{}),"Cover"]}):(0,o.jsxs)("button",{className:C().openCoverButton,type:"button",onClick:e=>{n(!0),r({type:"moveCover",coverPosition:!0})},children:["Open",(0,o.jsx)("br",{}),"Cover"]})}):(0,o.jsx)(o.Fragment,{})})}function T(e){let{toolConfig:t,toolPreference:a,eventHandler:n,animationState:r,setAnimationState:s,executedData:i,setExecutedData:l,setIsServerWorking:u,setSideAreaState:m}=e,h=(0,d.useRef)(null);function _(){if(-1!==r||null===h.current)return;let e=h.current.value.trim();n({type:"enterAddressBar",url:e});try{new URL(e)}catch(e){alert("URL is invalid");return}let o=new URL(e);("198.51.100.255"==o.hostname||"example.jp"==o.hostname)&&u(!0),l(p(t)),m({type:"default"}),c(t,a,s,l,[{data:{type:"paper",body:"Protocol: HTTP\nSite Name: ".concat(o.hostname,"\nFile: ").concat(o.pathname,"\nLanguage: English\n\n"),meta:{type:"request",url:e,hostname:o.hostname,pathname:o.pathname,myIpAddress:"203.0.113.128",peersIpAddress:"example.jp"==o.hostname?"198.51.100.255":o.hostname}},destination:{device:"smartphone",protocolIndex:0,direction:"upToDown"}}],n).then(()=>{u(!1)})}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:C().notch}),(0,o.jsxs)("div",{className:C().addressBar,children:[(0,o.jsx)("input",{ref:h,placeholder:"Enter URL here",onKeyDown:e=>{"Enter"==e.key&&null!==h.current&&(h.current.blur(),_())}}),(0,o.jsx)("div",{className:C().favorites,children:(0,o.jsx)(H,{addressBarRef:h,addressBarEnter:_,url:"http://example.jp/joho1/internet.html",title:"History of the Internet"})})]}),(0,o.jsx)("div",{className:C().browserbody,children:(0,o.jsx)("iframe",{srcDoc:i.smartphone.downToUp[0].length>0&&"paper"==i.smartphone.downToUp[0][0].type&&-1===r?i.smartphone.downToUp[0][0].meta.body:""})})]})}function H(e){let{addressBarRef:t,addressBarEnter:a,url:n,title:r}=e,s=(0,d.useRef)(null);return(0,o.jsxs)("button",{type:"button",className:C().favorite,ref:s,onClick:e=>{null!==t.current&&null!==s.current&&(t.current.value=n,s.current.blur(),a())},children:[(0,o.jsx)("div",{className:C().icon,children:"\uD83C\uDF10"}),(0,o.jsx)("div",{className:C().title,children:r})]})}function F(e){let{toolConfig:t,toolPreference:a,executedData:n,sideAreaState:r,setSideAreaState:s,mouseHover:i,setMouseHover:d,eventHandler:l,device:c,animationState:p}=e,u=[];for(let e=0;e<t.protocols.length;e++){let m=t.protocols[e],h=m.upToDownManuallyInsertable,_=0!=e?(0,o.jsx)("div",{className:C().conversionProgram+" "+(a.showProgram?"":C().displayNone),children:"</>"}):(0,o.jsx)(o.Fragment,{});u.push((0,o.jsxs)("div",{className:C().dataLayer,style:{backgroundColor:m.color},children:[(0,o.jsx)(D,{device:c,protocolIndex:e,direction:"upToDown",data:n[c].upToDown[e],sideAreaState:r,setSideAreaState:s,eventHandler:l,mouseHover:i,setMouseHover:d,animationState:p}),(0,o.jsxs)("div",{className:C().arrow,children:[(0,o.jsx)("img",{src:"smartphone"===c?"../../../image/arrow-red.svg":"../../../image/arrow-blue.svg",alt:"↓",className:C().arrowImage+" "+(h?C().clickable:"")+" "+("dataIn"===r.type&&r.ref.device===c&&r.ref.protocolIndex===e?C().selected:""),onClick:t=>{h&&(s({type:"dataIn",ref:{device:c,protocolIndex:e}}),l({type:"openInsertPage",device:c,protocolIndex:e}))}}),_]}),(0,o.jsxs)("div",{className:C().protocolName,children:[(0,o.jsx)("div",{children:m.name}),(0,o.jsxs)("div",{children:["(",m.subname,")"]})]}),(0,o.jsxs)("div",{className:C().arrow,children:[(0,o.jsx)("img",{src:"smartphone"===c?"../../../image/arrow-blue.svg":"../../../image/arrow-red.svg",alt:"↑",className:C().arrowImage,style:{transform:"scale(1,-1)"}}),_]}),(0,o.jsx)("div",{className:C().dataIconOuter,children:(0,o.jsx)(D,{device:c,protocolIndex:e,direction:"downToUp",data:n[c].downToUp[e],sideAreaState:r,setSideAreaState:s,eventHandler:l,mouseHover:i,setMouseHover:d,animationState:p})})]},e))}return(0,o.jsx)("div",{className:C().inner,children:u})}function D(e){let t,a,n,r,{device:s,protocolIndex:i,direction:d,data:l,sideAreaState:c,setSideAreaState:p,eventHandler:u,mouseHover:m,setMouseHover:h,animationState:_}=e,x="smartphone"===s&&"upToDown"===d?1+i:"server"===s&&"downToUp"===d?9-i:"server"===s&&"upToDown"===d?12+i:"smartphone"===s&&"downToUp"===d?20-i:-1,v=(_>=(x+.5)*24||-1===_)&&l.length>0;return(0,o.jsxs)("div",{className:C().dataIconOuter,children:[v?(0,o.jsx)(O,{mouseHover:m,setMouseHover:h,protocolIndex:i+1,data:l,type:(t="smartphone"===s,a="upToDown"===d,(t||a)&&!(t&&a))?"dot":"check",onClick:e=>{p({type:"data",ref:l}),u({type:"openDataPage",device:s,direction:"upToDown",protocolIndex:i})},top:"3rem",left:"auto",gray:!0,hovered:!1,selected:"data"===c.type&&c.ref===l}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(O,{mouseHover:"",setMouseHover:()=>{},protocolIndex:i+1,data:l,type:(n="smartphone"===s,r="upToDown"===d,(n||r)&&!(n&&r))?"dot":"check",onClick:e=>{},top:("upToDown"===d?(_-24*x)*.25:6-(_-24*x)*.25)+"rem",left:"auto",gray:!1,hovered:!1,selected:!1})]})}function B(e){let{animationState:t}=e;return(0,o.jsx)("div",{className:C().bottomDataIconSpace,children:(0,o.jsxs)("div",{className:C().bottomDataIconSpaceInner,children:[120<=t&&t<=144?(0,o.jsx)(O,{mouseHover:"",setMouseHover:()=>{},protocolIndex:4,data:[],type:"check",onClick:e=>{},top:"0.8rem",left:(t-120)*3.4-40.8+"rem",gray:!1,hovered:!1,selected:!1}):(0,o.jsx)(o.Fragment,{}),384<=t&&t<=408?(0,o.jsx)(O,{mouseHover:"",setMouseHover:()=>{},protocolIndex:4,data:[],type:"dot",onClick:e=>{},top:"0.8rem",left:-(1*(t-384))+12+"rem",gray:!1,hovered:!1,selected:!1}):(0,o.jsx)(o.Fragment,{})]})})}function O(e){let{mouseHover:t,setMouseHover:a,protocolIndex:n,data:r,type:s,onClick:i,top:d,left:l,gray:c,hovered:p,selected:u}=e;return(0,o.jsxs)("div",{className:C().dataFrame+" "+(c?C().gray:"")+" "+(p?C().hovered:"")+" "+(u?C().selected:""),onMouseEnter:e=>{a(JSON.stringify(r))},onMouseLeave:e=>{a(null)},onClick:i,style:{top:d,left:l},children:[(0,o.jsx)("span",{className:C().dataFrameHeader,style:Object.assign({background:"#00CC66"},n>=4?{}:{width:0})}),(0,o.jsx)("span",{className:C().dataFrameHeader,style:Object.assign({background:"#0099FF"},n>=3?{}:{width:0})}),(0,o.jsx)("span",{className:C().dataFrameHeader,style:Object.assign({background:"#FF9933"},n>=2?{}:{width:0})}),(0,o.jsx)("span",{className:C().dataFrameHeader,style:Object.assign({background:"#FF00FF"},n>=1?{}:{width:0})}),(0,o.jsx)("span",{className:C().dataFrameBody+" "+("dot"==s?C().dot:C().check)})]})}function E(e){let{focusedLayer:t,setFocusedLayer:a,toolPreference:n,eventHandler:r}=e;return(0,o.jsxs)("div",{className:C().cloudAndOceanArea,children:[(0,o.jsxs)("div",{className:C().cloud+" "+(n.showCloudAndPipe?"":C().displayNone),style:{height:6*t+"rem"},children:[(0,o.jsx)("div",{className:C().cloudBody,children:(0,o.jsx)("button",{type:"button",className:C().buttonUp,onClick:e=>{a(Math.max(0,t-1)),r({type:"movePipe",direction:"up",destination:Math.max(0,t-1)})},children:"▲"})}),(0,o.jsx)("div",{className:C().cloudWave,children:[...Array(12)].map(e=>(0,o.jsx)("div",{},e))})]}),(0,o.jsxs)("div",{className:C().ocean+" "+(n.showCloudAndPipe?"":C().displayNone),style:{height:6*(3-t)+"rem"},children:[(0,o.jsx)("div",{className:C().oceanWave,children:[...Array(12)].map(e=>(0,o.jsx)("div",{},e))}),(0,o.jsx)("div",{className:C().oceanBody,children:(0,o.jsx)("button",{type:"button",className:C().buttonDown,onClick:e=>{a(Math.min(3,t+1)),r({type:"movePipe",direction:"down",destination:Math.min(3,t+1)})},children:"▼"})})]})]})}var L=e=>{let{toolConfig:t,defaultToolPreference:a,eventHandler:n}=e,[r,s]=(0,d.useState)(a),[i,l]=(0,d.useState)(-1),[c,u]=(0,d.useState)(p(t)),[m,h]=(0,d.useState)({type:"default"});return(0,o.jsxs)("div",{className:k().outer,children:[(0,o.jsx)("div",{className:k().mainArea,children:(0,o.jsx)(M,{toolConfig:t,toolPreference:r,eventHandler:n,animationState:i,setAnimationState:l,executedData:c,setExecutedData:u,sideAreaState:m,setSideAreaState:h})}),(0,o.jsx)("div",{className:k().sideArea,children:(0,o.jsx)(y,{toolConfig:t,toolPreference:r,setToolPreference:s,eventHandler:n,setAnimationState:l,setExecutedData:u,sideAreaState:m,setSideAreaState:h})})]})},U=a(3596),W=a(6515),R=a(3622),X=a(7261),V=a.n(X),G=a(6044),Q=!0,Z=e=>{let t=(0,U.M)(e.appId);if(void 0===t)throw"App ".concat(e.appId," not found");let a=t.textbooks.find(t=>t.id==e.textbookId);if(void 0===a)throw"Textbook ".concat(e.textbookId," not found");let n=a.pages.find(t=>"separator"!=t.iconType&&t.id==e.textbookPageId);if(a.pages.findIndex(t=>"separator"!=t.iconType&&t.id==e.textbookPageId),void 0===n||"separator"===n.iconType)throw"TextbookPage ".concat(e.textbookPageId," not found");(0,d.useEffect)(()=>{(async()=>{(0,R.Wq)({type:"view"})})()},[t,a,n]),(0,d.useEffect)(()=>{setInterval(async()=>{(0,R.Wq)({type:"keep"})},1e4)},[]);let[s,c]=(0,d.useState)(null);(0,d.useEffect)(()=>{(async()=>{c(await (0,R.Ms)())})()},[]);let[p,u]=(0,d.useState)([]);function m(e){p.push(e),u(Object.assign([],p)),(0,R.bZ)(e)}let h=(0,d.useRef)(null);(0,d.useEffect)(()=>{null!==h.current&&(h.current.scrollTop=0)},[n.content]);let[_,x]=(0,d.useState)({}),v=async()=>{await n.goalKeys.reduce(async(e,t)=>await e&&await W.U2(t),Promise.resolve(!0))&&await W.U2("pageCompleted_".concat(n.id))!==!0&&(await W.t8("pageCompleted_".concat(n.id),!0),(0,R.bZ)({type:"completePage",key:"pageCompleted_".concat(n.id)}))};(0,d.useEffect)(()=>{(async()=>{await v();let e={};for(let t of a.pages)"separator"!==t.iconType&&(e[t.id]=await W.U2("pageCompleted_".concat(t.id)));x(e)})()},[n,p]);let f=a.pages.filter(e=>"separator"!==e.iconType),g=f.findIndex(t=>t.id==e.textbookPageId),[j,y]=(0,d.useState)(!0);return(0,o.jsxs)("div",{className:V().allWrapper,children:[(0,o.jsx)(r(),{children:(0,o.jsx)("title",{children:a.title+" - ProtoSim"})}),(0,o.jsxs)("header",{className:V().header,children:[(0,o.jsx)("a",{href:"../../",children:"Communication Protocol Simulator ProtoSim"}),(0,o.jsx)(G.Z,{}),(0,o.jsx)("span",{className:V().userName,children:null==s?"Guest":s})]}),(0,o.jsxs)("main",{className:V().main,children:[(0,o.jsx)("div",{className:V().textbookPageListArea,style:j?{}:{display:"none"},children:(0,o.jsx)("ul",{children:a.pages.map((e,r)=>"separator"!==e.iconType?(0,o.jsx)("li",{className:(e.id==n.id?V().openedPage:"")+" "+(!0===_[e.id]?V().completedPage:""),children:(0,o.jsxs)(i(),{href:"/".concat(t.id,"/").concat(a.id,"/").concat(e.id),children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:"../../../image/book-".concat(e.iconType,".svg")}),!0===_[e.id]?(0,o.jsx)("img",{src:"../../../image/book-check.svg"}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)("div",{children:e.title})]})},e.id):(0,o.jsx)("li",{className:V().separator},r))})}),(0,o.jsx)("div",{className:V().textbookArea,ref:h,style:j?{}:{display:"none"},children:(0,o.jsx)(l.ZP,{textbook:a,page:n,prevLink:g-1>=0?"/".concat(t.id,"/").concat(a.id,"/").concat(f[g-1].id):null,nextLink:g+1<f.length?"/".concat(t.id,"/").concat(a.id,"/").concat(f[g+1].id):null,eventHandler:m,toolEvents:p})}),(0,o.jsxs)("div",{className:V().toolArea,style:j?{}:{width:"100%"},children:[(0,o.jsx)("div",{className:V().textbookController,style:j?{}:{display:"none"},onClick:e=>{y(!1)}}),(0,o.jsx)("div",{className:V().textbookController+" "+V().open,style:j?{display:"none"}:{},onClick:e=>{y(!0)}}),(0,o.jsx)(L,{toolConfig:a.toolConfig,defaultToolPreference:a.defaultToolPreference,eventHandler:m})]})]})]})}},9045:function(e){e.exports={beta:"beta_beta__nBVqY"}},7877:function(e){e.exports={paper:"data_paper__kmm4H",paperInner:"data_paperInner__AN0lm",packageOuter:"data_packageOuter__wMmzM",package:"data_package___Bl73",packageHeader:"data_packageHeader__keFh1",packageBody:"data_packageBody__CsGdD",packageBodyInner:"data_packageBodyInner__e_Xvx",signal:"data_signal__NAYIo",signal0:"data_signal0__MB6LF",signal1:"data_signal1___oXaT"}},4641:function(e){e.exports={outer:"tool_outer___Se2y",mainArea:"tool_mainArea__8Stf_",sideArea:"tool_sideArea__TGmw7"}},2111:function(e){e.exports={tool:"toolMainArea_tool__L3edg",toolInner:"toolMainArea_toolInner__bb29Q",openCoverButton:"toolMainArea_openCoverButton__8QVia",spaceForCover:"toolMainArea_spaceForCover__BHYKv",coverOpen:"toolMainArea_coverOpen__AufJW",deviceName:"toolMainArea_deviceName__KskCw",smartphone:"toolMainArea_smartphone__DTB_8",smartphoneCover:"toolMainArea_smartphoneCover__DAVbH",notch:"toolMainArea_notch__NlGc2",addressBar:"toolMainArea_addressBar__cMos2",favorites:"toolMainArea_favorites__8uBX2",favorite:"toolMainArea_favorite__fUJt0",icon:"toolMainArea_icon___fLIy",title:"toolMainArea_title__RCVGD",browserbody:"toolMainArea_browserbody__u_Hf5",server:"toolMainArea_server__40HER",serverCover:"toolMainArea_serverCover__R_2l0",serverLight:"toolMainArea_serverLight__RWHbo",bright:"toolMainArea_bright__16wwB",flash:"toolMainArea_flash__Eey7y",serverRow:"toolMainArea_serverRow__PNtAc",inner:"toolMainArea_inner__jDF2e",dataLayer:"toolMainArea_dataLayer__A4OXc",protocolName:"toolMainArea_protocolName__AwMEV",dataIconOuter:"toolMainArea_dataIconOuter__Hp0RH",bottomDataIconSpace:"toolMainArea_bottomDataIconSpace__d8HFZ",bottomDataIconSpaceInner:"toolMainArea_bottomDataIconSpaceInner__94_hw",dataFrame:"toolMainArea_dataFrame__rmPyz",dataFrameHeader:"toolMainArea_dataFrameHeader__uMcNp",dataFrameBody:"toolMainArea_dataFrameBody__yrllU",dot:"toolMainArea_dot__BbvwO",check:"toolMainArea_check__tOkh5",gray:"toolMainArea_gray__wHNhv",hovered:"toolMainArea_hovered__qEPRv",selected:"toolMainArea_selected__2sYI_",arrow:"toolMainArea_arrow__rrPec",arrowImage:"toolMainArea_arrowImage__KGHJE",clickable:"toolMainArea_clickable__CqlBM",conversionProgram:"toolMainArea_conversionProgram___T0eo",cloudAndOceanArea:"toolMainArea_cloudAndOceanArea__M0xXw",cloud:"toolMainArea_cloud__Wir7G",cloudBody:"toolMainArea_cloudBody__BW1vZ",cloudWave:"toolMainArea_cloudWave__QMQIW",ocean:"toolMainArea_ocean__V0N8Y",oceanWave:"toolMainArea_oceanWave__1CcnW",oceanBody:"toolMainArea_oceanBody__6WDhg",buttonUp:"toolMainArea_buttonUp__HDI7m",buttonDown:"toolMainArea_buttonDown__kSU1v",preferenceButton:"toolMainArea_preferenceButton__sohjF",displayNone:"toolMainArea_displayNone__BHVpP"}},1044:function(e){e.exports={sideArea:"toolSideArea_sideArea__PXgNP",sideAreaHead:"toolSideArea_sideAreaHead__U8L7b",sideAreaClose:"toolSideArea_sideAreaClose__ncdtF",sideAreaBody:"toolSideArea_sideAreaBody__IWZAC"}},7261:function(e){e.exports={allWrapper:"App_allWrapper__G4W8h",header:"App_header__9Xne4",userName:"App_userName__Xvo8m",main:"App_main__wo9xi",textbookPageListArea:"App_textbookPageListArea__gTiQd",openedPage:"App_openedPage__4m77x",completedPage:"App_completedPage__WutWa",separator:"App_separator__NqcDx",textbookArea:"App_textbookArea__CB9cZ",textbookController:"App_textbookController__FvQVu",open:"App_open__AXnPI",toolArea:"App_toolArea__IQAEF",displayNone:"App_displayNone__5BlaV"}},9008:function(e,t,a){e.exports=a(7828)}},function(e){e.O(0,[983,653,888,774,179],function(){return e(e.s=8740)}),_N_E=e.O()}]);